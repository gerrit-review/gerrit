include_defs('//lib/maven.defs')

<<<<<<< HEAD   (8047c4 Update JGit to 3.5.3.201412180710-r)
VERS = '3.5.3.201412180710-r'
=======
VERS = '3.4.2.201412180340-r'
>>>>>>> BRANCH (f15ff1 Release notes for Gerrit 2.9.4)

maven_jar(
  name = 'jgit',
  id = 'org.eclipse.jgit:org.eclipse.jgit:' + VERS,
<<<<<<< HEAD   (8047c4 Update JGit to 3.5.3.201412180710-r)
  bin_sha1 = '9f3781c7163ee6fa380a4518564a5abb097d9e27',
  src_sha1 = 'e6d8548522624ffa3094e43130e5dc958f359187',
=======
  bin_sha1 = 'cc501e3db3f5a00713382753d7260ecf2d1fe7fa',
  src_sha1 = '19c71b70882b83f4e15a888ff8ef4f2e0507efa0',
>>>>>>> BRANCH (f15ff1 Release notes for Gerrit 2.9.4)
  license = 'jgit',
  unsign = True,
  deps = [':ewah'],
  exclude = [
    'META-INF/eclipse.inf',
    'about.html',
    'plugin.properties',
  ],
)

maven_jar(
  name = 'jgit-servlet',
  id = 'org.eclipse.jgit:org.eclipse.jgit.http.server:' + VERS,
<<<<<<< HEAD   (8047c4 Update JGit to 3.5.3.201412180710-r)
  sha1 = 'f2678e1feefd8b90b3c47d40ebc2b9426e3b69f4',
=======
  sha1 = '9965a9cbb9673572848dea6d6eecf51d3e7d360c',
>>>>>>> BRANCH (f15ff1 Release notes for Gerrit 2.9.4)
  license = 'jgit',
  deps = [':jgit'],
  unsign = True,
  exclude = [
    'about.html',
    'plugin.properties',
  ],
)

maven_jar(
  name = 'jgit-archive',
  id = 'org.eclipse.jgit:org.eclipse.jgit.archive:' + VERS,
<<<<<<< HEAD   (8047c4 Update JGit to 3.5.3.201412180710-r)
  sha1 = '66705b6630a89c9e6e7950798ea2d7f8a4a82cd7',
=======
  sha1 = '4232b91d3f6e77aff86894170fdfb68d455906a8',
>>>>>>> BRANCH (f15ff1 Release notes for Gerrit 2.9.4)
  license = 'jgit',
  deps = [':jgit',
    '//lib/commons:compress',
    '//lib:tukaani-xz',
  ],
  unsign = True,
  exclude = [
    'about.html',
    'plugin.properties',
  ],
)

maven_jar(
  name = 'junit',
  id = 'org.eclipse.jgit:org.eclipse.jgit.junit:' + VERS,
<<<<<<< HEAD   (8047c4 Update JGit to 3.5.3.201412180710-r)
  sha1 = '47e821761059770dfd3f443dc7f14d5381fb6f4f',
=======
  sha1 = '8e69847e02cea0898c31e3a3066c8b4416938593',
>>>>>>> BRANCH (f15ff1 Release notes for Gerrit 2.9.4)
  license = 'DO_NOT_DISTRIBUTE',
  unsign = True,
  deps = [':jgit'],
)

maven_jar(
  name = 'ewah',
  id = 'com.googlecode.javaewah:JavaEWAH:0.7.9',
  sha1 = 'eceaf316a8faf0e794296ebe158ae110c7d72a5a',
  license = 'Apache2.0',
)

prebuilt_jar(
  name = 'Edit',
  binary_jar = ':jgit_edit_src',
  visibility = ['PUBLIC'],
)

genrule(
  name = 'jgit_edit_src',
  cmd = 'unzip -qd $TMP $(location :jgit_src) ' +
    'org/eclipse/jgit/diff/Edit.java;' +
    'cd $TMP;' +
    'zip -Dq $OUT org/eclipse/jgit/diff/Edit.java',
  out = 'edit-src.jar',
)
